(this.webpackJsonpbstorage=this.webpackJsonpbstorage||[]).push([[0],{122:function(e,t,n){},151:function(e,t,n){},200:function(e,t,n){},201:function(e,t,n){},202:function(e,t,n){},231:function(e,t,n){},233:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(54),s=n.n(r),i=(n(200),n(27)),o=n(7),l=(n(201),n(67)),u=n(64),d=n.n(u),j=(n(202),n(156)),h=n.n(j),b=n(160),m=n.n(b),p=n(161),O=n.n(p),f=n(162),x=n.n(f),v=n(163),g=n.n(v),y=n(164),N=n.n(y),w=n(38),S=n(1),I=Object(w.b)((function(e){return{user:e.EventUser}}))(Object(i.f)((function(e){console.log(e);var t=e.id,n=e.display;return Object(S.jsxs)("div",{className:n?"shadow-lg dashhead":"dashhead displayhidden",children:[Object(S.jsx)("h1",{children:"GP Admin"}),1===t?Object(S.jsx)("div",{onClick:function(){return e.history.push("dashboard")},className:"menu-container-active",children:Object(S.jsxs)("p",{children:[Object(S.jsx)(h.a,{})," ",Object(S.jsx)("span",{className:"pl-1",children:"Home"})]})}):Object(S.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("dashboard")},children:Object(S.jsxs)("p",{children:[Object(S.jsx)(m.a,{})," ",Object(S.jsx)("span",{className:"pl-2",children:"Home"})]})}),2===t?Object(S.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("merchants")},children:Object(S.jsxs)("p",{children:[Object(S.jsx)(O.a,{})," ",Object(S.jsx)("span",{className:"pl-1",children:"Merchants"})]})}):Object(S.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("merchants")},children:Object(S.jsxs)("p",{children:[Object(S.jsx)(x.a,{})," ",Object(S.jsx)("span",{className:"pl-2",children:"Merchants"})]})}),3===t?Object(S.jsx)("div",{className:"menu-container-active",onClick:function(){return e.history.push("organization")},children:Object(S.jsxs)("p",{children:[Object(S.jsx)(g.a,{})," ",Object(S.jsx)("span",{className:"pl-1",children:"Organization"})]})}):Object(S.jsx)("div",{className:"menu-container",onClick:function(){return e.history.push("organization")},children:Object(S.jsxs)("p",{children:[Object(S.jsx)(N.a,{})," ",Object(S.jsx)("span",{className:"pl-2",children:"Organization"})]})})]})}))),k=n(39),C=n.n(k),E=(n(226),n(227),n(71)),P=n.n(E),T=n(48),M=n(20),U=n.n(M),R=function(e){return function(){var t=Object(T.a)(U.a.mark((function t(n){return U.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/user/single"),{headers:{token:e}}).then((function(e){n({type:"STORE_USERINFO",payload:e.data.result})})).catch((function(e){}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var G=Object(w.b)((function(e){return{user:e.EventUser}}),(function(e){return{getUserInfo:function(t){return e(R(t))}}}))((function(e){var t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=c.a.useState({}),i=Object(o.a)(s,2),u=(i[0],i[1],c.a.useState([])),j=Object(o.a)(u,2);return j[0],j[1],c.a.useEffect((function(){e.getUserInfo(e.user.user)}),[]),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(S.jsx)(I,{id:1,display:a})}),Object(S.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return a&&r(!1)},children:[Object(S.jsx)("span",{className:"iconbutton display-mobile",children:Object(S.jsx)(l.a,{size:"large","aria-label":"Menu",onClick:function(){return r(!0)},children:Object(S.jsx)(d.a,{fontSize:"inherit"})})}),Object(S.jsx)("h1",{children:"Hi, Group Admin"}),e.user.userInfo&&Object(S.jsxs)("section",{children:[Object(S.jsxs)("p",{children:["Name: ",e.user.userInfo.name]}),Object(S.jsxs)("p",{children:["Email: ",e.user.userInfo.email]}),Object(S.jsxs)("p",{children:["GroupId: ",e.user.userInfo.groupId]}),Object(S.jsxs)("p",{children:["Mobile No: ",e.user.userInfo.mobileNo]}),Object(S.jsxs)("p",{children:["Role: ",e.user.userInfo.role]})]})]})]})})),z=n(19),A=(n(122),n(98)),D=n(76),_=n(298),B=n(50);var W=Object(w.b)(null,(function(e){return{setUser:function(t){return e({type:"SET_USER",payload:t})},getUserInfo:function(t){return e(R(t))}}}))((function(e){console.log("verify otp props",e);var t=c.a.useState(""),n=Object(o.a)(t,2),a=n[0],r=n[1],s=c.a.useState(""),i=Object(o.a)(s,2),l=i[0],u=i[1],d=c.a.useState(0),j=Object(o.a)(d,2),h=j[0],b=j[1];c.a.useEffect((function(){h>0&&setTimeout((function(){b(h-1)}),1e3)}),[h]);var m=function(t){C.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/auth/verifyOTP"),Object(z.a)(Object(z.a)({},e.location.state.data),{},{otp:t})).then((function(t){console.log(t),201===t.status?r(t.data.result):(e.setUser(t.data.result),e.getUserInfo(t.data.result),e.history.push("/dashboard"))})).catch((function(e){r("Something went wrong")}))};return Object(S.jsx)("div",{className:"body",children:Object(S.jsxs)("div",{className:"shadow-sm auth-container",children:[Object(S.jsx)("img",{src:"/cleverpeblack.png",alt:"cleverpe",className:"logo"}),Object(S.jsx)("h3",{children:"Be Clever Pe Later"}),Object(S.jsxs)("h6",{children:["OTP has been sent to ",e.location.state.data.mobileNo]}),"merchantprofile"===e.location.state.auth&&Object(S.jsx)("section",{children:Object(S.jsx)("p",{className:"mototext",children:"You're just one step away in becoming a CleverPe Partner !!"})}),Object(S.jsx)("p",{style:{color:"#ccc"},children:e.location.state.data.otp}),Object(S.jsx)(A.a,{onChange:function(e){return t=e.target.value,u(parseInt(t)),void(6===parseInt(t).length&&m(t));var t},className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Enter OTP"}),Object(S.jsx)("div",{style:{textAlign:"right"},children:0!==h?Object(S.jsxs)(D.a,{disabled:!0,children:["Resend OTP (",h,")"]}):Object(S.jsx)(D.a,{onClick:function(){return b(59)},children:"Resend OTP"})}),a.length>0&&Object(S.jsx)(_.a,{className:"alert",severity:"error",children:a}),Object(S.jsxs)("p",{className:"grey subtitle my-3",children:["By continuing, you agree to CleverPe ",Object(S.jsx)(B.b,{to:"/termsandconditions",children:"Terms and Conditions"})," of Use and ",Object(S.jsx)(B.b,{to:"/privacypolicy",children:"Privacy Policy"}),"."]}),Object(S.jsx)(D.a,{onClick:function(){m(l)},className:"mt-2",fullWidth:!0,variant:"contained",children:"Verify OTP"}),Object(S.jsx)("p",{className:"grey subtitle mt-3",children:"\xa92022 Cleverpe Technologies Private Limited"})]})})})),L=n(106);var Y=Object(w.b)((function(e){return{loading:e.loading}}))((function(e){var t=Object(L.a)(),n=t.handleSubmit,a=t.register,r=t.formState.errors,s=c.a.useState(""),i=Object(o.a)(s,2),l=i[0],u=i[1];return Object(S.jsx)("div",{className:"body",children:Object(S.jsxs)("div",{className:"shadow-sm auth-container",children:[Object(S.jsx)("img",{src:"/cleverpeblack.png",alt:"cleverpe",className:"logo"}),Object(S.jsx)("h3",{children:"Be Clever Pe Later"}),Object(S.jsx)("h6",{children:"Partner SignIn"}),Object(S.jsxs)("form",{onSubmit:n((function(t){parseInt(t.mobile)?(u(""),C.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/auth/signin"),{mobileNo:t.mobile}).then((function(t){"Error"===t.data.msg?u(t.data.result):e.location.state?e.history.push("/verifyotp",{auth:e.location.state.route,data:t.data}):e.history.push("/verifyotp",{auth:"myprofile",data:t.data})})).catch((function(e){u("Check your internet connection")}))):u("Enter valid mobile number")})),children:[Object(S.jsx)(A.a,Object(z.a)(Object(z.a)({error:!!r.mobile},a("mobile",{required:!0,valueAsNumber:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Mobile Number"})),l.length>0&&Object(S.jsx)(_.a,{className:"alert",severity:"error",children:l}),Object(S.jsx)(D.a,{type:"submit",className:"mt-4",fullWidth:!0,variant:"contained",children:"Signin"}),Object(S.jsxs)("p",{className:"grey subtitle my-3",children:["By continuing, you agree to CleverPe ",Object(S.jsx)(B.b,{to:"/termsandconditions",children:"Terms and Conditions"})," of Use and ",Object(S.jsx)(B.b,{to:"/privacypolicy",children:"Privacy Policy"}),"."]}),Object(S.jsx)("hr",{}),Object(S.jsxs)("div",{className:"mt-3",children:[Object(S.jsx)("p",{className:"newtext",children:"New to partner.cleverpe? Dive in by creating an account"}),Object(S.jsx)(D.a,{fullWidth:!0,variant:"outlined",onClick:function(){return e.history.push("/signup",e.location.state)},children:"create an account"})]})]}),Object(S.jsx)("p",{className:"grey subtitle mt-3",children:"\xa92022 Cleverpe Technologies Private Limited"})]})})})),q=(n(151),n(78));var H=[{field:"id",headerName:"ID",width:20},{field:"name",headerName:"Name",valueGetter:function(e){return e.row.name},width:150},{field:"email",headerName:"Email",valueGetter:function(e){return e.row.email},width:200},{field:"groupId",headerName:"GroupId",valueGetter:function(e){return e.row.groupId},width:150},{field:"mobileNo",headerName:"Mobile No",valueGetter:function(e){return e.row.mobileNo},width:150},{field:"merchantId",headerName:"Merchant Id",valueGetter:function(e){return e.row.merchantId},width:150},{field:"verified",headerName:"Verified",valueGetter:function(e){return e.row.verified.toString()},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return P.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],F=Object(w.b)((function(e){return{user:e.EventUser}}))((function(e){var t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=c.a.useState([]),i=Object(o.a)(s,2),u=i[0],j=i[1];return c.a.useEffect((function(){console.log(e.user.userInfo.groupId),C.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/org/members"),{groupId:e.user.userInfo.groupId},{headers:{token:e.user.user}}).then((function(e){console.log(e);var t=e.data.result.map((function(e,t){return Object(z.a)(Object(z.a)({},e),{},{id:t+1})}));j(t)})).catch((function(e){console.log(e)}))}),[]),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(S.jsx)(I,{id:2,display:a})}),Object(S.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return a&&r(!1)},children:[Object(S.jsx)("span",{className:"iconbutton display-mobile",children:Object(S.jsx)(l.a,{size:"large","aria-label":"Menu",onClick:function(){return r(!0)},children:Object(S.jsx)(d.a,{fontSize:"inherit"})})}),Object(S.jsx)("h1",{children:"Merchants Belonging to Your Group"}),Object(S.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(S.jsx)(q.a,{rows:u,columns:H,autoPageSize:!0,checkboxSelection:!0,onRowClick:function(t,n){return e.history.push("/merchantinfo",t.row)}})})]})]})}));var J=function(e){var t=Object(L.a)(),n=t.handleSubmit,a=t.register,r=(t.formState.errors,c.a.useState("")),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(S.jsx)("div",{className:"body",children:Object(S.jsxs)("div",{className:"shadow-sm auth-container",children:[Object(S.jsx)("img",{src:"/cleverpeblack.png",alt:"cleverpe",className:"logo"}),Object(S.jsx)("h3",{children:"Be Clever Pe Later"}),Object(S.jsx)("h6",{children:"Partner SignIn"}),Object(S.jsxs)("form",{onSubmit:n((function(t){t.email=t.email.trim(),C.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/auth/signup"),Object(z.a)(Object(z.a)({},t),{},{type:2})).then((function(t){"Error"===t.data.msg?l(t.data.result):e.location.state?e.history.push("/verifyotp",{auth:e.location.state.route,data:t.data}):e.history.push("/verifyotp",{auth:"myprofile",data:t.data})})).catch((function(e){l("Something went wrong, check your internet connection and try again")}))})),children:[Object(S.jsx)(A.a,Object(z.a)(Object(z.a)({},a("name",{required:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Name"})),Object(S.jsx)(A.a,Object(z.a)(Object(z.a)({},a("email",{required:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Email"})),Object(S.jsx)(A.a,Object(z.a)(Object(z.a)({},a("mobileNo",{required:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Mobile Number"})),Object(S.jsx)(A.a,Object(z.a)(Object(z.a)({},a("postCode",{required:!0})),{},{className:"textfield",fullWidth:!0,variant:"outlined",id:"outlined-basic",label:"Pin Code"})),i.length>0&&Object(S.jsx)(_.a,{className:"alert",severity:"error",children:i}),Object(S.jsxs)("p",{className:"grey subtitle my-3",children:["By continuing, you agree to CleverPe ",Object(S.jsx)(B.b,{to:"/termsandconditions",children:"Terms and Conditions"})," of Use and ",Object(S.jsx)(B.b,{to:"/privacypolicy",children:"Privacy Policy"}),"."]}),Object(S.jsx)(D.a,{type:"submit",className:"mt-4",fullWidth:!0,variant:"contained",children:"SignUp"})]}),Object(S.jsx)("p",{className:"grey subtitle mt-3",children:"\xa92022 Cleverpe Technologies Private Limited"})]})})};n(231);var K=Object(w.b)((function(e){return{user:e.EventUser}}))((function(e){var t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=c.a.useState(null),i=Object(o.a)(s,2),u=i[0],j=i[1];return c.a.useEffect((function(){console.log(e.user.userInfo.groupId),C.a.post("".concat("https://cleverpe-api.herokuapp.com","/api/org/single"),{organisationId:e.user.userInfo.organisation},{headers:{token:e.user.user}}).then((function(e){console.log(e),j(e.data.result)}))}),[]),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(S.jsx)(I,{id:3,display:a})}),Object(S.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return a&&r(!1)},children:[Object(S.jsx)("span",{className:"iconbutton display-mobile",children:Object(S.jsx)(l.a,{size:"large","aria-label":"Menu",onClick:function(){return r(!0)},children:Object(S.jsx)(d.a,{fontSize:"inherit"})})}),Object(S.jsx)("h1",{children:"Organization"}),u&&Object(S.jsxs)("section",{children:[Object(S.jsxs)("p",{children:["Name: ",u.name]}),Object(S.jsxs)("p",{children:["Group ID: ",u.groupId]}),Object(S.jsxs)("p",{children:["Admin: ",u.admin]}),Object(S.jsxs)("p",{children:["Contact Email: ",u.contactEmail]}),Object(S.jsxs)("p",{children:["Contact No: ",u.contactNo]})]})]})]})}));var V=[{field:"id",headerName:"ID",width:20},{field:"customerMobile",headerName:"Customer Mobile No",valueGetter:function(e){return e.row.customer.mobileNo},width:150},{field:"reciept",headerName:"Reciept",valueGetter:function(e){return e.row.reciept?e.row.reciept:"Not Uploaded"},width:200},{field:"status",headerName:"Order Status",valueGetter:function(e){return e.row.status},width:150},{field:"total",headerName:"Total",valueGetter:function(e){return e.row.total},width:150},{field:"items",headerName:"Total Items",valueGetter:function(e){return e.row.items.length},width:150},{field:"createdAt",headerName:"Created At",valueGetter:function(e){return P.a.parseZone(e.value).local().format("DD/MM/YY")},width:120}],Z=Object(w.b)((function(e){return{user:e.EventUser}}))((function(e){console.log("merchantinfoprops",e);var t=c.a.useState(!1),n=Object(o.a)(t,2),a=n[0],r=n[1],s=c.a.useState([]),i=Object(o.a)(s,2),u=i[0],j=i[1];return c.a.useEffect((function(){C.a.get("".concat("https://cleverpe-api.herokuapp.com","/api/order/merchantAll/").concat(e.location.state._id),{headers:{token:e.user.user}}).then((function(e){if(console.log(e),e.data.result[0].orders.length>0){var t=e.data.result[0].orders.map((function(e,t){return Object(z.a)(Object(z.a)({},e),{},{id:t+1})}));j(t)}}))}),[]),Object(S.jsxs)("div",{className:"row",children:[Object(S.jsx)("div",{className:"col-xs-12 col-sm-12 col-md-2 col-lg-2 col-xl-2",children:Object(S.jsx)(I,{id:2,display:a})}),Object(S.jsxs)("div",{className:"col-xs-12 col-sm-12 col-md-10 col-lg-10 col-xl-10 dashboard-container",onClick:function(){return a&&r(!1)},children:[Object(S.jsx)("span",{className:"iconbutton display-mobile",children:Object(S.jsx)(l.a,{size:"large","aria-label":"Menu",onClick:function(){return r(!0)},children:Object(S.jsx)(d.a,{fontSize:"inherit"})})}),Object(S.jsx)("h1",{children:"Merchant Orders"}),Object(S.jsx)("div",{style:{height:"80vh",width:"100%"},children:Object(S.jsx)(q.a,{rows:u,columns:V,autoPageSize:!0,checkboxSelection:!0,onRowClick:function(t,n){return e.history.push("/orderdetails",t.row)}})})]})]})}));var Q=function(){return Object(S.jsxs)(i.c,{children:[Object(S.jsx)(i.a,{exact:!0,path:"/",component:Y}),Object(S.jsx)(i.a,{path:"/signup",component:J}),Object(S.jsx)(i.a,{path:"/dashboard",component:G}),Object(S.jsx)(i.a,{path:"/signin",component:Y}),Object(S.jsx)(i.a,{path:"/verifyotp",component:W}),Object(S.jsx)(i.a,{path:"/merchants",component:F}),Object(S.jsx)(i.a,{path:"/merchantinfo",component:Z}),Object(S.jsx)(i.a,{path:"/organization",component:K})]})},X=n(57),$=n(169),ee=n.n($),te={user:null,userInfo:null,orderId:"",merchant:{},emi:""},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(z.a)(Object(z.a)({},e),{},{user:t.payload});case"STORE_USERINFO":return Object(z.a)(Object(z.a)({},e),{},{userInfo:t.payload});case"DELETE_USER":return te;case"STORE_ORDER_ID":return Object(z.a)(Object(z.a)({},e),{},{orderId:t.payload});case"STORE_MERCHANT":return Object(z.a)(Object(z.a)({},e),{},{merchant:t.payload});case"STORE_EMI":return Object(z.a)(Object(z.a)({},e),{},{emi:t.payload});default:return e}},ae=n(14),ce={messages:[]},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORE_SOCKET":return{messages:t.payload};case"UPDATE_SOCKET":return{messages:[].concat(Object(ae.a)(e.messages),[t.payload])};default:return e}},se=n(94),ie=n(170),oe={key:"socket",storage:n.n(ie).a,blacklist:["state"]},le=Object(X.b)({EventUser:ne,socket:Object(se.a)(oe,re)}),ue=n(172),de=n(171),je={key:"root",storage:n.n(de).a,blackList:["socket"]},he=Object(se.a)(je,le),be=[ee.a,ue.a],me=Object(X.c)(he,X.a.apply(void 0,be)),pe=Object(se.b)(me),Oe=n(174),fe=n(299),xe=n(173),ve=Object(Oe.a)({palette:{primary:{main:"#000"},secondary:{main:"#fc0303"},tertiary:{main:"#b66dff"}},components:{MuiButton:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiIconButton:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiTab:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiPagination:{styleOverrides:{root:{"&:focus":{outline:"none"}}}},MuiPaginationItem:{styleOverrides:{root:{"&:focus":{outline:"none"}}}}}});s.a.render(Object(S.jsx)(w.a,{store:me,children:Object(S.jsx)(xe.a,{loading:null,persistor:pe,children:Object(S.jsx)(B.a,{children:Object(S.jsx)(fe.a,{theme:ve,children:Object(S.jsx)(Q,{})})})})}),document.getElementById("root"))}},[[233,1,2]]]);
//# sourceMappingURL=main.de0fc605.chunk.js.map